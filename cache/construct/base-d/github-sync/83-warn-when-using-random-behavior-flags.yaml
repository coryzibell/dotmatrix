metadata:
  title: Warn when using random behavior flags
  type: issue
  labels: &id001
  - identity:persephone
  - identity:smith
  - high-priority
  - ux
  assignees: []
  state: open
  github_issue_number: 83
  github_updated_at: '2025-11-29T03:20:22Z'
  last_synced:
    title: Warn when using random behavior flags
    body: "## Context\n\nFrom Construct review of `base-d` project. Persephone identified\
      \ UX issue.\n\n**Source:** `~/.matrix/cache/construct/base-d/ux-recommendations.md`\n\
      \n### Problem\n\n`--compress` and `--hash` without arguments randomly select\
      \ an algorithm. This is intentional but undiscoverable - users don't know output\
      \ will vary.\n\n### Solution\n\nPrint a notice to stderr when random selection\
      \ occurs:\n\n```\nNote: Using randomly selected algorithm 'zstd' (use --compress=zstd\
      \ to fix)\n```\n\n### Implementation Steps\n\n1. When `--compress` has no argument,\
      \ print selection to stderr\n2. When `--hash` has no argument, print selection\
      \ to stderr\n3. Include hint showing how to make it deterministic\n4. Respect\
      \ `--quiet` flag to suppress notices\n\n### Acceptance Criteria\n\n- [ ] Random\
      \ selection prints notice to stderr\n- [ ] Notice includes the selected algorithm\n\
      - [ ] Notice shows how to make it deterministic\n- [ ] `--quiet` suppresses\
      \ the notice\n\n### Handoff\n\nPersephone designs message \u2192 Smith implements\
      \ \u2192 Neo merges"
    labels: *id001
    updated_at: '2025-11-29T03:20:22Z'
body_markdown: "## Context\n\nFrom Construct review of `base-d` project. Persephone\
  \ identified UX issue.\n\n**Source:** `~/.matrix/cache/construct/base-d/ux-recommendations.md`\n\
  \n### Problem\n\n`--compress` and `--hash` without arguments randomly select an\
  \ algorithm. This is intentional but undiscoverable - users don't know output will\
  \ vary.\n\n### Solution\n\nPrint a notice to stderr when random selection occurs:\n\
  \n```\nNote: Using randomly selected algorithm 'zstd' (use --compress=zstd to fix)\n\
  ```\n\n### Implementation Steps\n\n1. When `--compress` has no argument, print selection\
  \ to stderr\n2. When `--hash` has no argument, print selection to stderr\n3. Include\
  \ hint showing how to make it deterministic\n4. Respect `--quiet` flag to suppress\
  \ notices\n\n### Acceptance Criteria\n\n- [ ] Random selection prints notice to\
  \ stderr\n- [ ] Notice includes the selected algorithm\n- [ ] Notice shows how to\
  \ make it deterministic\n- [ ] `--quiet` suppresses the notice\n\n### Handoff\n\n\
  Persephone designs message \u2192 Smith implements \u2192 Neo merges"
comments: []
