metadata:
  title: Add CLI test coverage
  type: issue
  labels: &id001
  - testing
  - identity:deus
  - high-priority
  assignees: []
  state: open
  github_issue_number: 79
  github_updated_at: '2025-11-29T03:20:12Z'
  last_synced:
    title: Add CLI test coverage
    body: "## Context\n\nFrom Construct review of `base-d` project. Deus identified\
      \ critical testing gap.\n\n**Source:** `~/.matrix/cache/construct/base-d/quality-recommendations.md`\n\
      \n### Problem\n\nThe CLI layer has zero test coverage. This is the primary user\
      \ interface for a CLI tool.\n\n**Untested functions:**\n- `parse_interval()`\
      \ - time parsing\n- `select_random_dictionary()` - random selection\n- File\
      \ I/O operations\n- Configuration loading\n- Error handling paths\n\n### Solution\n\
      \nAdd unit tests and integration tests for CLI module.\n\n### Implementation\
      \ Steps\n\n1. Add unit tests in `src/cli/mod.rs`:\n   - `parse_interval()` -\
      \ 4 tests (valid, invalid, edge cases)\n   - `select_random_dictionary()` -\
      \ 3 tests\n   - Config loading - 4 tests\n2. Add integration tests using `assert_cmd`\
      \ crate:\n   - Basic encode/decode workflows\n   - File input/output\n   - Error\
      \ cases\n3. Target: 20-30 CLI tests\n\n### Acceptance Criteria\n\n- [ ] `parse_interval()`\
      \ fully tested\n- [ ] Random selection tested\n- [ ] File operations tested\n\
      - [ ] Config loading tested\n- [ ] Integration tests for common workflows\n\
      - [ ] Coverage report shows CLI module improvement\n\n### Handoff\n\nDeus owns\
      \ this \u2192 Neo reviews \u2192 merge"
    labels: *id001
    updated_at: '2025-11-29T03:20:12Z'
body_markdown: "## Context\n\nFrom Construct review of `base-d` project. Deus identified\
  \ critical testing gap.\n\n**Source:** `~/.matrix/cache/construct/base-d/quality-recommendations.md`\n\
  \n### Problem\n\nThe CLI layer has zero test coverage. This is the primary user\
  \ interface for a CLI tool.\n\n**Untested functions:**\n- `parse_interval()` - time\
  \ parsing\n- `select_random_dictionary()` - random selection\n- File I/O operations\n\
  - Configuration loading\n- Error handling paths\n\n### Solution\n\nAdd unit tests\
  \ and integration tests for CLI module.\n\n### Implementation Steps\n\n1. Add unit\
  \ tests in `src/cli/mod.rs`:\n   - `parse_interval()` - 4 tests (valid, invalid,\
  \ edge cases)\n   - `select_random_dictionary()` - 3 tests\n   - Config loading\
  \ - 4 tests\n2. Add integration tests using `assert_cmd` crate:\n   - Basic encode/decode\
  \ workflows\n   - File input/output\n   - Error cases\n3. Target: 20-30 CLI tests\n\
  \n### Acceptance Criteria\n\n- [ ] `parse_interval()` fully tested\n- [ ] Random\
  \ selection tested\n- [ ] File operations tested\n- [ ] Config loading tested\n\
  - [ ] Integration tests for common workflows\n- [ ] Coverage report shows CLI module\
  \ improvement\n\n### Handoff\n\nDeus owns this \u2192 Neo reviews \u2192 merge"
comments: []
