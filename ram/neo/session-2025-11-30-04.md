# Session 2025-11-30-04: base-d CI Fix

## Context
Continuing work on base-d. Previous sessions covered benchmarking infrastructure and ARM NEON PR.

## Completed
- **Fixed CI startup_failure** - Reusable workflows in nebuchadnezzar required `contents: write` permission
  - Root cause: `wake-up.yml` in nebuchadnezzar had workflow-level `permissions: contents: write`, but callers weren't granting it
  - Fix: Added `permissions: contents: write` to caller workflows in base-d and rust-template
  - Also moved nebuchadnezzar to job-level permissions for better portability (only bump/tag jobs need write)

## Open Issues
- **macOS test failures on GitHub Actions** - Tests passing locally on x86_64, but ARM runner (macos-latest) is failing
  - kautau taking this to an ARM machine to debug

## Repos Modified
- `coryzibell/base-d` - Added permissions to `.github/workflows/wake-up.yml`
- `coryzibell/rust-template` - Same fix backported
- `coryzibell/nebuchadnezzar` - Moved from workflow-level to job-level permissions

## Key Learning
Reusable workflows can only use permissions that the *caller* grants. When a reusable workflow declares permissions, it's stating what it *needs*, not what it has. The calling workflow must explicitly grant those permissions.
